<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cfs.mapper.CourseMapper">

    <resultMap id="BaseResultMap" type="com.cfs.entities.Course">
        <id column="id" property="id"></id>
        <result column="number" property="number"></result>
        <result column="credit" property="credit"></result>
        <result column="type" property="type"></result>
        <result column="course_name" property="courseName"></result>
        <result column="mode" property="mode"></result>
        <result column="creater_id" property="createrId"></result>
    </resultMap>

    <insert id="add">
        insert into course
        values(#{id},#{number},#{credit},#{type},#{courseName},#{mode},#{createrId})
    </insert>

    <select id="selectAll" parameterType="com.cfs.entities.Course">
        select c.*,modu.*,chap.* from course c
                                          LEFT JOIN modular modu on c.id=modu.course_id left join chapter chap on c.id=chap.course_id
    </select>

    <update id="update">
        update course
        set number = #{number},
            credit = #{credit},
            type = #{type},
            course_name = #{courseName},
            mode = #{mode}
        where id = #{id}
    </update>
</mapper>